import{d as A,C as f,c as i,F as B,j,e,a as x,b as M,l as G,w as F,n as L,g as z,r as K,o as n,f as me,m as pe,V as he,t as b,S as xe,k as N,D as U,N as Y,G as ye,Z as ve,_ as O,$ as fe,i as P,Q as be,O as we,a0 as ke,h as _e,E as W,R as ee}from"./app-B9u5kddE.js";import{_ as Ce}from"./AppShell.vue_vue_type_script_setup_true_lang-MbMS_Va-.js";import{_ as $e}from"./AppLogo.vue_vue_type_script_setup_true_lang-DHnru0bi.js";import{c as I,_ as ne}from"./Spinner.vue_vue_type_script_setup_true_lang-p9itDVY1.js";import{C as Se}from"./check-Ct-6ZXYT.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-CDN07tui.js";import"./useForwardExpose-y7ni6h7h.js";import"./createContext-DJi5Oquo.js";const Me=I("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Te=I("ChartColumnIcon",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const oe=I("CircleAlertIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Le=I("CircleCheckBigIcon",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const te=I("LanguagesIcon",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);const se=I("LightbulbIcon",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const De=I("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Ie=I("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const je=I("SendIcon",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Ae=I("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ee=I("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const ae=I("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ne={class:"border-b border-gray-200 px-4 py-4"},Be={class:"flex items-center justify-between"},ze={class:"border-b border-gray-200 px-4 py-4"},Pe=["disabled"],Ve={"data-test":"chat-list",class:"flex-1 overflow-y-auto p-2"},Oe={class:"space-y-1"},Fe=["onClick"],Ue={class:"min-w-0 flex-1"},Re=["onKeydown"],He=["onClick"],Ke={key:1,class:"group/title"},qe={class:"flex items-center gap-1"},Je=["title"],Xe=["onClick"],Ge={class:"mt-0.5 truncate text-xs text-gray-500"},Ye=["onClick"],Ze=A({__name:"ChatSidebar",props:{chats:{},activeChat:{},hasUnusedNewChat:{type:Boolean},isOpen:{type:Boolean,default:!1}},emits:["new-chat","select-chat","delete-chat","update-title","close"],setup(s,{emit:p}){const t=s,a=p,d=f(null),m=f(""),h=()=>{t.hasUnusedNewChat||a("new-chat")},o=g=>{d.value!==g&&(a("select-chat",g),a("close"))},v=(g,c)=>{g.stopPropagation(),confirm("Are you sure you want to delete this conversation?")&&a("delete-chat",c)},$=(g,c)=>{g.stopPropagation(),d.value=c.id,m.value=c.title},w=(g,c)=>{g.stopPropagation(),m.value.trim()&&a("update-title",c,m.value.trim()),d.value=null,m.value=""},S=g=>{g.stopPropagation(),d.value=null,m.value=""},T=(g,c)=>{g.key==="Enter"?(g.preventDefault(),w(g,c)):g.key==="Escape"&&S(g)};return(g,c)=>(n(),i(B,null,[s.isOpen?(n(),i("div",{key:0,class:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:c[0]||(c[0]=k=>a("close"))})):j("",!0),e("div",{class:L(["fixed lg:static inset-y-0 left-0 z-50 flex h-screen w-64 flex-col border-r border-gray-200 bg-white transform transition-transform duration-300 lg:translate-x-0",s.isOpen?"translate-x-0":"-translate-x-full"])},[e("div",Ne,[e("div",Be,[x(M(G),{href:g.route("language-chat.index")},{default:F(()=>[x($e,{size:"sm"})]),_:1},8,["href"]),e("button",{onClick:c[1]||(c[1]=k=>a("close")),class:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close sidebar"},[x(M(ae),{class:"h-5 w-5 text-gray-600"})])])]),e("div",ze,[e("button",{"data-test":"new-chat-button",onClick:h,disabled:s.hasUnusedNewChat,class:L(["flex w-full items-center justify-center gap-2 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors",s.hasUnusedNewChat?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"])},[x(M(Ie),{class:"h-4 w-4"}),c[4]||(c[4]=z(" New Chat ",-1))],10,Pe)]),e("div",Ve,[e("div",Oe,[(n(!0),i(B,null,K(s.chats,k=>(n(),i("div",{key:k.id,"data-test":"chat-item",onClick:D=>o(k.id),class:L(["group flex w-full items-start gap-3 rounded-lg px-3 py-2.5 text-left transition-colors cursor-pointer",s.activeChat===k.id?"bg-gray-100 hover:bg-gray-200":"hover:bg-gray-100"])},[(n(),i("svg",{class:L(["mt-0.5 h-4 w-4 flex-shrink-0",s.activeChat===k.id?"text-gray-600":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...c[5]||(c[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)])],2)),e("div",Ue,[d.value===k.id?(n(),i("div",{key:0,class:"flex items-center gap-1",onClick:c[3]||(c[3]=me(()=>{},["stop"]))},[pe(e("input",{"onUpdate:modelValue":c[2]||(c[2]=D=>m.value=D),onKeydown:D=>T(D,k.id),type:"text",class:"flex-1 rounded border border-blue-500 px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",autofocus:""},null,40,Re),[[he,m.value]]),e("button",{onClick:D=>w(D,k.id),class:"p-1 rounded hover:bg-green-100",title:"Save"},[x(M(Se),{class:"h-4 w-4 text-green-600"})],8,He),e("button",{onClick:S,class:"p-1 rounded hover:bg-red-100",title:"Cancel"},[x(M(ae),{class:"h-4 w-4 text-red-600"})])])):(n(),i("div",Ke,[e("div",qe,[e("p",{class:L(["truncate text-sm font-medium",s.activeChat===k.id?"text-gray-900":"text-gray-700"]),title:k.title},b(k.title),11,Je),e("button",{onClick:D=>$(D,k),class:"flex-shrink-0 opacity-0 group-hover/title:opacity-100 p-0.5 rounded hover:bg-gray-200",title:"Edit title"},[x(M(De),{class:"h-3 w-3 text-gray-500"})],8,Xe)]),e("p",Ge,b(k.timestamp),1)]))]),e("button",{onClick:D=>v(D,k.id),class:"opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-red-50",title:"Delete conversation"},[x(M(Ae),{class:"h-4 w-4 text-gray-400 hover:text-red-600"})],8,Ye)],10,Fe))),128))])])],2)],64))}}),Qe={class:"relative"},We={key:0,class:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[600px] flex flex-col"},et={class:"px-4 py-3 border-b border-gray-200 flex items-center justify-between"},tt={class:"overflow-y-auto flex-1"},st={key:0,class:"p-8 text-center text-gray-500"},at={key:1,class:"p-8 text-center text-gray-500"},nt={key:2,class:"divide-y divide-gray-200"},rt={class:"flex items-start gap-3"},ot={class:"text-2xl flex-shrink-0"},it={class:"flex-1 min-w-0"},lt={class:"flex items-start justify-between gap-2"},dt={class:"font-semibold text-gray-900 text-sm"},ct={class:"flex items-center gap-1 flex-shrink-0"},ut=["onClick"],gt=["onClick"],mt={class:"text-sm text-gray-600 mt-1"},pt={class:"text-xs text-gray-400 mt-2"},ht=A({__name:"InsightPanel",setup(s){const p=xe(),t=f([]),a=f(0),d=f(!1),m=f(!1);let h=null;const o=N(()=>!!p.props.auth?.user),v=f(!1);let $=null;const w=f(!1);U(a,(C,r)=>{w.value&&C>r&&(v.value=!0,$&&clearTimeout($),$=setTimeout(()=>{v.value=!1},4e3))});const S=async(C=!1)=>{if(o.value){C||(d.value=!0);try{const{data:r}=await O.get("/insights");JSON.stringify(t.value)!==JSON.stringify(r.insights)&&(t.value=r.insights),a.value!==r.unread_count&&(a.value=r.unread_count)}catch(r){O.isAxiosError(r)&&r.response?.status===401?h!==null&&(clearInterval(h),h=null):console.error("Error fetching insights:",r)}finally{C||(d.value=!1)}}},T=async C=>{try{await O.patch(`/insights/${C}/read`);const r=t.value.find(_=>_.id===C);r&&(r.is_read=!0,a.value=Math.max(0,a.value-1))}catch(r){console.error("Error marking insight as read:",r)}},g=async()=>{try{await O.post("/insights/mark-all-read"),t.value.forEach(C=>{C.is_read=!0}),a.value=0}catch(C){console.error("Error marking all as read:",C)}},c=async C=>{try{await O.delete(`/insights/${C}`);const r=t.value.findIndex(_=>_.id===C);if(r!==-1){const _=!t.value[r].is_read;t.value.splice(r,1),_&&(a.value=Math.max(0,a.value-1))}}catch(r){console.error("Error deleting insight:",r)}},k=C=>{switch(C){case"grammar_pattern":return"ðŸ“";case"vocabulary_strength":return"ðŸ“š";case"proficiency_suggestion":return"ðŸŽ¯";default:return"ðŸ’¡"}},D=()=>{m.value=!m.value,m.value&&S()};return Y(()=>{o.value?(S().finally(()=>{w.value=!0}),h=setInterval(()=>S(!0),3e4)):w.value=!0}),ye(()=>{h!==null&&(clearInterval(h),h=null),$&&clearTimeout($)}),(C,r)=>(n(),i("div",Qe,[e("button",{onClick:D,class:L(["relative p-2 text-gray-600 hover:text-gray-900 transition-colors",{"text-blue-600":m.value}])},[r[1]||(r[1]=e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),a.value>0?(n(),i("span",{key:0,class:L(["absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/5 -translate-y-1/5 bg-red-600 rounded-full transition-all origin-center",{"animate-pulse-subtle":v.value}])},b(a.value),3)):j("",!0)],2),x(ve,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-150","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:F(()=>[m.value?(n(),i("div",We,[e("div",et,[r[2]||(r[2]=e("h3",{class:"text-lg font-semibold text-gray-900"},"LangGPT Insights",-1)),t.value.length>0&&a.value>0?(n(),i("button",{key:0,onClick:g,class:"text-sm text-blue-600 hover:text-blue-800"}," Mark all read ")):j("",!0)]),e("div",tt,[d.value?(n(),i("div",st,[x(ne,{class:"h-8 w-8 mx-auto mb-2"}),r[3]||(r[3]=z(" Loading insights... ",-1))])):t.value.length===0?(n(),i("div",at,[...r[4]||(r[4]=[e("div",{class:"text-4xl mb-2"},"ðŸ’¡",-1),e("p",{class:"font-medium"},"No insights yet",-1),e("p",{class:"text-sm mt-1"},"Keep chatting to receive personalized feedback!",-1)])])):(n(),i("div",nt,[(n(!0),i(B,null,K(t.value,_=>(n(),i("div",{key:_.id,class:L(["p-4 hover:bg-gray-50 transition-colors",{"bg-blue-50/30":!_.is_read}])},[e("div",rt,[e("div",ot,b(k(_.insight_type)),1),e("div",it,[e("div",lt,[e("h4",dt,b(_.title),1),e("div",ct,[_.is_read?j("",!0):(n(),i("button",{key:0,onClick:R=>T(_.id),class:"text-blue-600 hover:text-blue-800 p-1",title:"Mark as read"},[...r[5]||(r[5]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,ut)),e("button",{onClick:R=>c(_.id),class:"text-gray-400 hover:text-red-600 p-1",title:"Dismiss"},[...r[6]||(r[6]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,gt)])]),e("p",mt,b(_.message),1),e("p",pt,b(new Date(_.created_at).toLocaleDateString()),1)])])],2))),128))]))])])):j("",!0)]),_:1}),m.value?(n(),i("div",{key:0,onClick:r[0]||(r[0]=_=>m.value=!1),class:"fixed inset-0 z-40"})):j("",!0)]))}}),xt={class:"border-b border-gray-200 bg-white px-3 py-2 sm:px-6 sm:py-4"},yt={class:"flex items-center justify-between gap-2"},vt={class:"flex items-center gap-2 sm:gap-0 min-w-0 flex-1"},ft={class:"flex items-center gap-1.5 sm:gap-3 flex-shrink-0"},bt={class:"mt-2 flex flex-wrap items-center gap-2 sm:mt-4 sm:gap-3"},wt={"data-test":"native-language",class:"flex items-center gap-1.5 rounded-lg bg-blue-50 px-2 py-1 sm:gap-2 sm:px-3 sm:py-1.5"},kt={class:"flex items-center gap-1 text-xs sm:gap-1.5 sm:text-sm"},_t={class:"text-gray-900"},Ct={"data-test":"target-language",class:"flex items-center gap-1.5 rounded-lg bg-green-50 px-2 py-1 sm:gap-2 sm:px-3 sm:py-1.5"},$t={class:"flex items-center gap-1 text-xs sm:gap-1.5 sm:text-sm"},St={class:"text-gray-900"},Mt={"data-test":"proficiency-level",class:"flex items-center gap-1.5 rounded-lg bg-purple-50 px-2 py-1 transition-all sm:gap-2 sm:px-3 sm:py-1.5"},Tt={class:"flex items-center gap-1 text-xs sm:gap-1.5 sm:text-sm"},Lt={class:"text-gray-900"},Dt=A({__name:"ChatHeader",props:{nativeLanguage:{},targetLanguage:{},proficiencyLevel:{},proficiencyLabel:{},autoUpdateProficiency:{type:Boolean}},emits:["settings","menu-click"],setup(s,{emit:p}){const t=s,a=p,d=()=>{a("settings")},m=N(()=>t.proficiencyLevel?t.autoUpdateProficiency?`Dynamic (${t.proficiencyLabel?`${t.proficiencyLevel} - ${t.proficiencyLabel}`:t.proficiencyLevel})`:t.proficiencyLevel+(t.proficiencyLabel?` (${t.proficiencyLabel})`:""):t.autoUpdateProficiency?"Dynamic (Not Set)":"Not Set");return(h,o)=>(n(),i("div",xt,[e("div",yt,[e("div",vt,[e("button",{onClick:o[0]||(o[0]=v=>a("menu-click")),class:"lg:hidden flex-shrink-0 p-2 -ml-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Open menu"},[...o[1]||(o[1]=[e("svg",{class:"h-5 w-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),o[2]||(o[2]=e("div",{class:"min-w-0"},[e("h1",{class:"text-base font-semibold text-gray-900 sm:text-xl truncate"},"Language Exchange Chat"),e("p",{class:"hidden sm:block text-sm text-gray-500"}," Practice your language skills with AI assistance ")],-1))]),e("div",ft,[x(ht),e("button",{"data-test":"settings-button",onClick:d,class:"hidden sm:inline-flex rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50"}," Settings "),x(M(G),{href:h.route("logout"),method:"post",as:"button",class:"hidden sm:inline-flex rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50"},{default:F(()=>[...o[3]||(o[3]=[z(" Log out ",-1)])]),_:1},8,["href"]),e("button",{"data-test":"settings-button-mobile",onClick:d,class:"sm:hidden p-2 rounded-lg border border-gray-300 text-gray-700 transition-colors hover:bg-gray-50","aria-label":"Settings"},[...o[4]||(o[4]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),x(M(G),{href:h.route("logout"),method:"post",as:"button",class:"sm:hidden p-2 rounded-lg border border-gray-300 text-gray-700 transition-colors hover:bg-gray-50","aria-label":"Log out"},{default:F(()=>[...o[5]||(o[5]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])]),_:1},8,["href"])])]),e("div",bt,[e("div",wt,[x(M(te),{class:"h-3 w-3 text-blue-600 sm:h-4 sm:w-4"}),e("div",kt,[o[6]||(o[6]=e("span",{class:"font-medium text-gray-700"},"Native:",-1)),e("span",_t,b(s.nativeLanguage),1)])]),x(M(Me),{class:"h-3 w-3 text-gray-400 sm:h-4 sm:w-4"}),e("div",Ct,[x(M(te),{class:"h-3 w-3 text-green-600 sm:h-4 sm:w-4"}),e("div",$t,[o[7]||(o[7]=e("span",{class:"font-medium text-gray-700"},"Target:",-1)),e("span",St,b(s.targetLanguage),1)])]),o[9]||(o[9]=e("div",{class:"h-3 w-px bg-gray-300 sm:h-4"},null,-1)),e("div",Mt,[x(M(Te),{class:"h-3 w-3 text-purple-600 sm:h-4 sm:w-4"}),e("div",Tt,[o[8]||(o[8]=e("span",{class:"font-medium text-gray-700"},"Level:",-1)),e("span",Lt,b(m.value),1)])])])]))}}),It={class:"relative inline-block"},jt={class:"invisible","aria-hidden":"true","data-test":"typewriter-size"},At=["dir"],Et=A({__name:"TypewriterText",props:{text:{},speed:{default:30},disabled:{type:Boolean,default:!1}},emits:["complete"],setup(s,{emit:p}){const t=s,a=p,d=f(""),m=f("auto");let h=null;function o(w){const S=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,T=/[A-Za-z\u00C0-\u024F\u0400-\u04FF\u0370-\u03FF]/,g=S.test(w),c=T.test(w);return g&&c?"auto":g?"rtl":c?"ltr":"auto"}function v(){if(t.disabled){d.value=t.text,a("complete");return}if(d.value="",m.value=o(t.text),!t.text){a("complete");return}let w=0;function S(){w<t.text.length&&(d.value+=t.text[w],w++,w<t.text.length?h=setTimeout(S,t.speed):a("complete"))}h=setTimeout(S,0)}function $(){h&&(clearTimeout(h),h=null)}return U(()=>t.text,()=>{$(),v()},{immediate:!0}),fe(()=>{$()}),(w,S)=>(n(),i("span",It,[e("span",jt,b(s.text),1),e("span",{class:"absolute inset-0","data-test":"typewriter-text",dir:m.value},b(d.value),9,At)]))}}),Nt={class:"flex-shrink-0"},Bt={class:"text-sm font-semibold"},zt={class:"whitespace-pre-wrap break-words text-sm leading-relaxed"},Pt={key:1},Vt={key:0,"data-test":"analyzing-indicator",class:"flex items-center gap-1"},Ot=A({__name:"ChatMessage",props:{content:{},role:{},timestamp:{},isAnalyzing:{type:Boolean},disableTypewriter:{type:Boolean,default:!1}},setup(s){return(p,t)=>(n(),i("div",{"data-test":"message-container",class:L(["flex gap-4",s.role==="user"?"flex-row-reverse":"flex-row"])},[e("div",Nt,[e("div",{"data-test":"message-avatar",class:L(["flex h-10 w-10 items-center justify-center rounded-full text-white",s.role==="user"?"bg-blue-600":"bg-gradient-to-br from-purple-600 to-blue-500"])},[e("span",Bt,b(s.role==="user"?"You":"AI"),1)],2)]),e("div",{"data-test":"message-content",class:L(["max-w-[70%] rounded-2xl px-4 py-3",s.role==="user"?"bg-blue-600 text-white":"bg-white text-gray-900 shadow-sm ring-1 ring-gray-200"])},[e("p",zt,[s.role==="assistant"&&!s.disableTypewriter?(n(),P(Et,{key:0,text:s.content,speed:30},null,8,["text"])):(n(),i("span",Pt,b(s.content),1))]),e("div",{class:L(["mt-2 flex items-center gap-2 text-xs",s.role==="user"?"text-blue-100":"text-gray-500"])},[e("span",null,b(s.timestamp),1),s.isAnalyzing?(n(),i("span",Vt,[x(ne,{class:"h-3 w-3"}),t[0]||(t[0]=z(" Analyzing... ",-1))])):j("",!0)],2)],2)],2))}}),Ft={class:"flex items-center justify-between mb-3"},Ut={class:"flex items-center gap-2"},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},Ht={class:"space-y-1"},Kt={class:"p-2 rounded bg-gray-100 dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-600"},qt={class:"text-sm line-through text-gray-800 dark:text-gray-100"},Jt={class:"space-y-1"},Xt={class:"text-xs font-semibold text-green-700 dark:text-green-300 uppercase tracking-wide flex items-center gap-1"},Gt={class:"p-2 rounded bg-green-50 dark:bg-green-950/30 border-2 border-green-300 dark:border-green-700"},Yt={class:"text-sm font-medium text-green-800 dark:text-green-200"},Zt={class:"mb-3 p-3 rounded bg-white/50 dark:bg-gray-800/50"},Qt={class:"text-sm text-gray-900 dark:text-gray-50"},Wt={class:"mb-3 p-3 rounded bg-white/50 dark:bg-gray-800/50"},es={class:"text-sm text-gray-900 dark:text-gray-50"},ts={key:0,class:"mb-2 p-3 rounded bg-white/50 dark:bg-gray-800/50"},ss={class:"text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide mb-2 flex items-center gap-1"},as={class:"space-y-1"},ns={class:"text-xs text-gray-500 dark:text-gray-500 text-right mt-2"},rs=A({__name:"CorrectionMessage",props:{content:{},correctionData:{},timestamp:{}},setup(s){const p=s,t={offensive:"Offensive Language",meaningless:"Unclear Meaning",unnatural:"Unnatural Phrasing",archaic:"Archaic Expression",dangerous:"Potentially Harmful"},a={offensive:"text-red-700 dark:text-red-300",meaningless:"text-orange-700 dark:text-orange-300",unnatural:"text-yellow-700 dark:text-yellow-300",archaic:"text-blue-700 dark:text-blue-300",dangerous:"text-red-800 dark:text-red-200"},d={critical:"bg-red-200 text-red-900 dark:bg-red-900/40 dark:text-red-200",high:"bg-orange-200 text-orange-900 dark:bg-orange-900/40 dark:text-orange-200",medium:"bg-yellow-200 text-yellow-900 dark:bg-yellow-900/40 dark:text-yellow-200"},m={critical:"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-950/30",high:"border-orange-300 dark:border-orange-700 bg-orange-50 dark:bg-orange-950/30",medium:"border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-950/30"},h=N(()=>{switch(p.correctionData.severity){case"critical":return oe;case"high":return Ee;default:return se}});return(o,v)=>(n(),i("div",{class:L(["px-4 py-3 rounded-lg border-2 my-3",m[s.correctionData.severity]])},[e("div",Ft,[e("div",Ut,[(n(),P(be(h.value),{class:L(["w-5 h-5",a[s.correctionData.error_type]])},null,8,["class"])),e("span",{class:L(["font-semibold text-sm",a[s.correctionData.error_type]])},b(t[s.correctionData.error_type]),3)]),e("span",{class:L(["text-xs font-medium px-2 py-1 rounded-full uppercase tracking-wide",d[s.correctionData.severity]])},b(s.correctionData.severity),3)]),e("div",Rt,[e("div",Ht,[v[0]||(v[0]=e("div",{class:"text-xs font-semibold text-gray-800 dark:text-gray-200 uppercase tracking-wide"}," Original ",-1)),e("div",Kt,[e("span",qt,b(s.correctionData.original_text),1)])]),e("div",Jt,[e("div",Xt,[x(M(Le),{class:"w-3 h-3"}),v[1]||(v[1]=z(" Suggested ",-1))]),e("div",Gt,[e("span",Yt,b(s.correctionData.corrected_text),1)])])]),e("div",Zt,[v[2]||(v[2]=e("div",{class:"text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide mb-1"}," Explanation ",-1)),e("p",Qt,b(s.correctionData.explanation),1)]),e("div",Wt,[v[3]||(v[3]=e("div",{class:"text-xs font-semibold text-gray-800 dark:text-gray-100 uppercase tracking-wide mb-1"}," Context ",-1)),e("p",es,b(s.correctionData.context),1)]),s.correctionData.recommendations&&s.correctionData.recommendations.length>0?(n(),i("div",ts,[e("div",ss,[x(M(se),{class:"w-3 h-3"}),v[4]||(v[4]=z(" Recommendations ",-1))]),e("ul",as,[(n(!0),i(B,null,K(s.correctionData.recommendations,($,w)=>(n(),i("li",{key:w,class:"text-sm text-gray-900 dark:text-gray-50 flex items-start gap-2"},[v[5]||(v[5]=e("span",{class:"text-gray-400 dark:text-gray-500"},"â€¢",-1)),e("span",null,b($),1)]))),128))])])):j("",!0),e("div",ns,b(s.timestamp),1)],2))}}),os=A({inheritAttrs:!1,__name:"SendIcon",setup(s){return(p,t)=>(n(),P(M(je),we({class:"h-5 w-5"},p.$attrs),null,16))}}),is={},ls={"data-test":"ai-disclaimer",class:"mt-2 flex flex-col gap-1 text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between sm:gap-0"};function ds(s,p){return n(),i("div",ls,[...p[0]||(p[0]=[e("span",{class:"hidden sm:inline"},"Press Enter to send, Shift+Enter for new line",-1),e("span",{class:"sm:text-right"}," AI-generated responses may contain inaccuracies. Always verify important information. ",-1)])])}const cs=re(is,[["render",ds]]),us={class:"border-t border-gray-200 bg-white px-3 py-2 sm:px-4 sm:py-4"},gs={class:"mx-auto max-w-3xl"},ms={class:"relative flex items-end gap-2"},ps=["value","disabled","placeholder"],hs=["disabled"],xs=A({__name:"ChatInput",props:{modelValue:{},disabled:{type:Boolean}},emits:["update:modelValue","send"],setup(s,{expose:p,emit:t}){const a=s,d=t,m=f(null),h=N(()=>window.innerWidth<640?"Type your message...":"Type your message here... (Shift+Enter for new line)"),o=T=>{const g=T.target;d("update:modelValue",g.value)},v=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),a.modelValue.trim()&&!a.disabled&&d("send"))},$=()=>{a.modelValue.trim()&&!a.disabled&&d("send")},w=()=>!a.modelValue.trim()||a.disabled;return U(()=>a.disabled,(T,g)=>{g&&!T&&setTimeout(()=>{m.value?.focus()},100)}),Y(()=>{m.value?.focus()}),p({focus:()=>{m.value?.focus()}}),(T,g)=>(n(),i("div",us,[e("div",gs,[e("div",ms,[e("textarea",{ref_key:"textareaRef",ref:m,value:s.modelValue,onInput:o,onKeydown:v,disabled:s.disabled,placeholder:h.value,rows:"1",class:"max-h-32 min-h-[44px] flex-1 resize-none rounded-xl border border-gray-300 px-3 py-2.5 pr-12 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 disabled:cursor-not-allowed disabled:opacity-50 sm:px-4 sm:py-3"},null,40,ps),e("button",{"data-test":"send-button",onClick:$,disabled:w(),class:"absolute bottom-2 right-2 flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600 text-white transition-all hover:bg-blue-700 disabled:cursor-not-allowed disabled:opacity-50"},[x(os)],8,hs)]),x(cs)])]))}}),ys={},vs={class:"flex gap-4"};function fs(s,p){return n(),i("div",vs,[...p[0]||(p[0]=[ke('<div class="flex-shrink-0"><div data-test="typing-avatar" class="flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-purple-600 to-blue-500 text-white"><span class="text-sm font-semibold">AI</span></div></div><div data-test="typing-container" class="rounded-2xl bg-white px-4 py-3 shadow-sm ring-1 ring-gray-200"><div class="flex gap-1"><div data-test="typing-dot" class="h-2 w-2 animate-bounce rounded-full bg-gray-400 [animation-delay:-0.3s]"></div><div data-test="typing-dot" class="h-2 w-2 animate-bounce rounded-full bg-gray-400 [animation-delay:-0.15s]"></div><div data-test="typing-dot" class="h-2 w-2 animate-bounce rounded-full bg-gray-400"></div></div></div>',2)])])}const bs=re(ys,[["render",fs]]),ws={key:0,"data-test":"service-down-banner",class:"border-l-4 border-red-200 bg-red-50 p-4"},ks={class:"flex items-start gap-3"},_s=A({__name:"ServiceDownBanner",props:{isServiceDown:{type:Boolean}},setup(s){return(p,t)=>s.isServiceDown?(n(),i("div",ws,[e("div",ks,[x(M(oe),{"data-test":"alert-icon",class:"h-5 w-5 flex-shrink-0 text-red-600"}),t[0]||(t[0]=e("div",{class:"flex-1"},[e("h3",{class:"text-sm font-semibold text-red-800"}," Language processing service is currently unavailable "),e("p",{class:"mt-1 text-sm text-red-700"}," Chat functionality is temporarily disabled. Please try again later. ")],-1))])])):j("",!0)}}),Cs={"data-test":"main-container",class:"flex h-[100dvh] w-full overflow-hidden bg-gray-50"},$s={"data-test":"chat-area",class:"flex min-w-0 flex-1 flex-col"},Ss={key:0,class:"flex h-full items-center justify-center px-4"},Ms={class:"text-center max-w-2xl w-full"},Ts={class:"mb-3 text-xs text-gray-600 sm:mb-4 sm:text-sm"},Ls={class:"space-y-2.5 sm:space-y-3"},Ds={class:"mt-3 grid grid-cols-1 gap-2 sm:mt-4 sm:gap-2.5 md:grid-cols-3"},Is={class:"rounded-lg border border-gray-200 bg-white p-2.5 sm:p-3"},js={class:"text-[10px] leading-tight text-gray-600 text-center sm:text-xs"},As={key:1,class:"mx-auto max-w-3xl space-y-6"},Hs=A({__name:"LanguageChat",props:{chatHistory:{},userSettings:{},isServiceAvailable:{type:Boolean}},setup(s){const p=s,t=f(p.chatHistory),a=f(t.value[0]?.id||null),d=f([]),m=f(null),h=f(""),o=f(!1),v=f(!p.isServiceAvailable),$=f(null),w=f(null),S=f(!1),T=f(p.userSettings.native_language),g=f(p.userSettings.target_language),c=f(p.userSettings.proficiency_level),k=f(p.userSettings.auto_update_proficiency);U(()=>p.userSettings.proficiency_level,y=>{c.value=y}),U(()=>p.userSettings.auto_update_proficiency,y=>{k.value=y});const D=N(()=>({A1:"Beginner",A2:"Elementary",B1:"Intermediate",B2:"Upper Intermediate",C1:"Advanced",C2:"Proficient"})[c.value]||c.value);N(()=>{if(a.value){const y=t.value.find(l=>l.id===a.value);if(y)return y.title}return"Language Chat"});const C=N(()=>t.value.some(y=>y.title==="New Conversation")),r=N(()=>o.value||v.value),_=async()=>{await W(),$.value&&($.value.scrollTop=$.value.scrollHeight)},R=async y=>{try{const u=await(await fetch(route("language-chat.messages",{chatSession:y}))).json();d.value=u.messages,m.value=null,await _()}catch(l){console.error("Error loading messages:",l)}},ie=async()=>{if(!h.value.trim())return;if(!a.value&&(await q(),await new Promise(u=>setTimeout(u,100)),!a.value)){console.error("Failed to create chat session");return}const y=h.value,l={id:Date.now(),content:y,sender_type:"user",created_at:new Date().toISOString()};d.value.push(l),h.value="",o.value=!0,await _(),await W(),w.value?.focus();try{const u=route("language-chat.message",{chatSession:a.value}),E=await(await fetch(u,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({message:y})})).json(),Z=d.value.findIndex(V=>V.id===l.id);Z!==-1&&(d.value[Z]={...E.user_message,sender_type:"user"}),E.correction_message&&(d.value.push({...E.correction_message,sender_type:"system",message_type:"correction"}),await _());const Q={...E.ai_response,sender_type:"assistant"};d.value.push(Q),m.value=Q.id,o.value=!1,await _();const X=t.value.findIndex(V=>V.id===a.value);X!==-1&&(t.value[X].last_message_at=new Date().toISOString(),E.new_title&&(t.value[X].title=E.new_title)),d.value.filter(V=>V.sender_type==="user").length%10===0&&k.value&&setTimeout(()=>{ee.reload({only:["userSettings"]})},2e4)}catch(u){console.error("Error sending message:",u),o.value=!1}},q=async()=>{const y=t.value.find(l=>l.title==="New Conversation");if(y){H(y.id);return}if(!C.value)try{const u=await(await fetch(route("language-chat.create"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({native_language:T.value,target_language:g.value,proficiency_level:c.value})})).json();t.value.unshift({id:u.id,title:"New Conversation",last_message_at:u.created_at,native_language:u.native_language,target_language:u.target_language}),H(u.id)}catch(l){console.error("Error creating new chat:",l)}},H=async y=>{a.value=y,await R(y)},le=async y=>{try{(await fetch(route("language-chat.destroy",{chatSession:y}),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}})).ok&&(t.value=t.value.filter(u=>u.id!==y),a.value===y&&(t.value.length>0?H(t.value[0].id):(a.value=null,d.value=[])))}catch(l){console.error("Error deleting chat:",l)}},de=async(y,l)=>{try{if((await fetch(route("language-chat.update-title",{chatSession:y}),{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""},body:JSON.stringify({title:l})})).ok){const J=t.value.findIndex(E=>E.id===y);J!==-1&&(t.value[J].title=l)}}catch(u){console.error("Error updating chat title:",u)}},ce=()=>{ee.visit("/profile")},ue=()=>{S.value=!S.value},ge=()=>{S.value=!1};return Y(()=>{a.value&&R(a.value)}),(y,l)=>(n(),i(B,null,[x(M(_e),{title:"Language Chat"}),x(Ce,{variant:"header"},{default:F(()=>[e("div",Cs,[x(Ze,{chats:t.value,"active-chat":a.value,"has-unused-new-chat":C.value,"is-open":S.value,onNewChat:q,onSelectChat:H,onDeleteChat:le,onUpdateTitle:de,onClose:ge},null,8,["chats","active-chat","has-unused-new-chat","is-open"]),e("div",$s,[x(Dt,{"native-language":T.value,"target-language":g.value,"proficiency-level":c.value,"proficiency-label":D.value,"auto-update-proficiency":k.value,onSettings:ce,onMenuClick:ue},null,8,["native-language","target-language","proficiency-level","proficiency-label","auto-update-proficiency"]),e("div",{ref_key:"chatContainer",ref:$,"data-test":"chat-container",class:"flex-1 overflow-y-auto px-3 py-2 sm:px-4 sm:py-4 md:py-6"},[!a.value&&t.value.length===0?(n(),i("div",Ss,[e("div",Ms,[l[6]||(l[6]=e("div",{class:"mx-auto mb-3 flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 sm:mb-4 sm:h-14 sm:w-14"},[e("svg",{class:"h-6 w-6 text-blue-600 sm:h-7 sm:w-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])],-1)),l[7]||(l[7]=e("h2",{class:"mb-1.5 text-base font-semibold text-gray-900 sm:mb-2 sm:text-lg md:text-xl"},"Start Your Language Journey",-1)),e("p",Ts,"Practice "+b(g.value)+" with AI-powered conversations tailored to your level",1),e("div",Ls,[e("button",{onClick:q,class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-blue-700 sm:w-auto sm:px-5 sm:py-2.5"},[...l[1]||(l[1]=[e("svg",{class:"h-4 w-4 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),z(" Start New Conversation ",-1)])]),e("div",Ds,[e("div",Is,[l[2]||(l[2]=e("div",{class:"mb-1 flex h-7 w-7 items-center justify-center rounded-full bg-green-100 mx-auto sm:mb-1.5 sm:h-8 sm:w-8"},[e("svg",{class:"h-3.5 w-3.5 text-green-600 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),l[3]||(l[3]=e("h3",{class:"mb-0.5 text-xs font-medium text-gray-900 text-center sm:text-sm"},"Adaptive Learning",-1)),e("p",js,"AI adjusts to your "+b(c.value)+" level",1)]),l[4]||(l[4]=e("div",{class:"rounded-lg border border-gray-200 bg-white p-2.5 sm:p-3"},[e("div",{class:"mb-1 flex h-7 w-7 items-center justify-center rounded-full bg-purple-100 mx-auto sm:mb-1.5 sm:h-8 sm:w-8"},[e("svg",{class:"h-3.5 w-3.5 text-purple-600 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})])]),e("h3",{class:"mb-0.5 text-xs font-medium text-gray-900 text-center sm:text-sm"},"Natural Conversation"),e("p",{class:"text-[10px] leading-tight text-gray-600 text-center sm:text-xs"},"Practice real-world dialogue")],-1)),l[5]||(l[5]=e("div",{class:"rounded-lg border border-gray-200 bg-white p-2.5 sm:p-3"},[e("div",{class:"mb-1 flex h-7 w-7 items-center justify-center rounded-full bg-orange-100 mx-auto sm:mb-1.5 sm:h-8 sm:w-8"},[e("svg",{class:"h-3.5 w-3.5 text-orange-600 sm:h-4 sm:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])]),e("h3",{class:"mb-0.5 text-xs font-medium text-gray-900 text-center sm:text-sm"},"Instant Feedback"),e("p",{class:"text-[10px] leading-tight text-gray-600 text-center sm:text-xs"},"Get corrections and suggestions")],-1))])])])])):(n(),i("div",As,[(n(!0),i(B,null,K(d.value,u=>(n(),i(B,{key:u.id},[u.message_type==="correction"&&u.correction_data?(n(),P(rs,{key:0,content:u.content,"correction-data":u.correction_data,timestamp:new Date(u.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},null,8,["content","correction-data","timestamp"])):(n(),P(Ot,{key:1,content:u.content,role:u.sender_type,timestamp:new Date(u.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"is-analyzing":u.isAnalyzing,"disable-typewriter":u.sender_type!=="assistant"||u.id!==m.value},null,8,["content","role","timestamp","is-analyzing","disable-typewriter"]))],64))),128)),o.value?(n(),P(bs,{key:0})):j("",!0)]))],512),x(_s,{"is-service-down":v.value},null,8,["is-service-down"]),x(xs,{modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=u=>h.value=u),disabled:r.value,onSend:ie,ref_key:"chatInputRef",ref:w},null,8,["modelValue","disabled"])])])]),_:1})],64))}});export{Hs as default};
