import{d as g,c as p,N as m,b as t,H as y,o as r,u as P,a as d,h as U,w as n,i as v,g as c,t as f,f as F,e as a,j as x,O as b,P as C,F as w,J as H}from"./app-CuI8IwjL.js";import{u as I}from"./useLanguageOptions-CiMEHTND.js";import{_ as $,b as W,a as j}from"./LoadingButton.vue_vue_type_script_setup_true_lang-CL0BCSxG.js";import{_ as L}from"./LanguageSelect.vue_vue_type_script_setup_true_lang-DRl8S2ec.js";import{c as _}from"./utils-CDN07tui.js";import{_ as V}from"./Label.vue_vue_type_script_setup_true_lang-DcWc4gEI.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-DDNBGaGD.js";import"./Spinner.vue_vue_type_script_setup_true_lang-D32gdCbh.js";import"./useForwardExpose-Cf0EpHkk.js";const E=g({__name:"Card",props:{class:{}},setup(l){const i=l;return(u,s)=>(r(),p("div",{"data-slot":"card",class:m(t(_)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i.class))},[y(u.$slots,"default")],2))}}),T=g({__name:"CardContent",props:{class:{}},setup(l){const i=l;return(u,s)=>(r(),p("div",{"data-slot":"card-content",class:m(t(_)("px-6",i.class))},[y(u.$slots,"default")],2))}}),A=g({__name:"CardDescription",props:{class:{}},setup(l){const i=l;return(u,s)=>(r(),p("p",{"data-slot":"card-description",class:m(t(_)("text-muted-foreground text-sm",i.class))},[y(u.$slots,"default")],2))}}),z=g({__name:"CardHeader",props:{class:{}},setup(l){const i=l;return(u,s)=>(r(),p("div",{"data-slot":"card-header",class:m(t(_)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i.class))},[y(u.$slots,"default")],2))}}),B=g({__name:"CardTitle",props:{class:{}},setup(l){const i=l;return(u,s)=>(r(),p("h3",{"data-slot":"card-title",class:m(t(_)("leading-none font-semibold",i.class))},[y(u.$slots,"default")],2))}}),O={class:"grid gap-4 sm:grid-cols-2"},R={class:"space-y-3"},D={class:"flex gap-4 pt-2"},h={class:"flex items-center gap-2 cursor-pointer"},q={class:"flex items-center gap-2 cursor-pointer"},M={key:0,class:"text-sm text-red-600"},J={key:0,class:"space-y-2 border-t pt-6"},G={class:"grid grid-cols-2 sm:grid-cols-3 gap-3"},K=["value"],Q={class:"font-semibold"},X={key:0,class:"text-sm text-red-600"},Z={class:"flex justify-end pt-4"},ee={key:1,class:"space-y-4"},te={class:"flex flex-col sm:flex-row gap-3 pt-4"},pe=g({__name:"ProficiencyOptIn",props:{user:{},needsLanguageSetup:{type:Boolean}},setup(l){const i=l,{languages:u}=I(),s=P({native_language:i.user.native_language||"",target_language:i.user.target_language||"",proficiency_level:"",auto_update_proficiency:!0}),k=S=>{s.auto_update_proficiency=S,s.post(route("proficiency-opt-in.store"))},Y=()=>{s.post(route("proficiency-opt-in.store"))};return(S,e)=>(r(),p(w,null,[d(t(U),{title:"Setup Your Learning Profile"}),d(j,{title:l.needsLanguageSetup?"Welcome to CefrSync!":"Proficiency Level Setup",subtitle:l.needsLanguageSetup?`Hi ${l.user.first_name}, let's set up your learning profile`:`Hi ${l.user.first_name}, let's personalize your learning experience`},{default:n(()=>[d(t(E),null,{default:n(()=>[d(t(z),null,{default:n(()=>[l.needsLanguageSetup?(r(),v(t(B),{key:0},{default:n(()=>[...e[7]||(e[7]=[c("Language Learning Setup",-1)])]),_:1})):(r(),v(t(B),{key:1},{default:n(()=>[...e[8]||(e[8]=[c("Auto-Update Your Proficiency Level",-1)])]),_:1})),l.needsLanguageSetup?(r(),v(t(A),{key:2},{default:n(()=>[...e[9]||(e[9]=[c(" Let's start by selecting your native and target languages, then choose your current proficiency level. ",-1)])]),_:1})):(r(),v(t(A),{key:3},{default:n(()=>[c(" You're learning "+f(l.user.target_language)+" from "+f(l.user.native_language)+". We noticed you didn't select a proficiency level during registration. ",1)]),_:1}))]),_:1}),d(t(T),{class:"space-y-6"},{default:n(()=>[l.needsLanguageSetup?(r(),p("form",{key:0,onSubmit:F(Y,["prevent"]),class:"space-y-6"},[a("div",O,[d(L,{id:"native_language",label:"Native Language",modelValue:t(s).native_language,"onUpdate:modelValue":e[0]||(e[0]=o=>t(s).native_language=o),error:t(s).errors.native_language,"exclude-value":t(s).target_language,options:t(u),placeholder:"Select your native language",required:""},null,8,["modelValue","error","exclude-value","options"]),d(L,{id:"target_language",label:"Target Language",modelValue:t(s).target_language,"onUpdate:modelValue":e[1]||(e[1]=o=>t(s).target_language=o),error:t(s).errors.target_language,"exclude-value":t(s).native_language,options:t(u),placeholder:"Select language to learn",required:""},null,8,["modelValue","error","exclude-value","options"])]),a("div",R,[d(t(V),null,{default:n(()=>[...e[10]||(e[10]=[c("Auto-Update Proficiency Level *",-1)])]),_:1}),e[13]||(e[13]=a("p",{class:"text-sm text-gray-700"}," Would you like CefrSync to automatically update your proficiency level based on your performance and conversations? ",-1)),e[14]||(e[14]=a("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[a("h4",{class:"font-medium text-blue-900 mb-2"},"How it works:"),a("ul",{class:"text-sm text-blue-800 space-y-1 list-disc list-inside"},[a("li",null,"We analyze your language usage patterns"),a("li",null,"Track vocabulary and grammar complexity"),a("li",null,"Automatically adjust your CEFR level over time"),a("li",null,"You can always change this later in settings")])],-1)),a("div",D,[a("label",h,[b(a("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=o=>t(s).auto_update_proficiency=o),value:!0,class:"h-4 w-4 text-blue-600"},null,512),[[C,t(s).auto_update_proficiency]]),e[11]||(e[11]=a("span",{class:"text-sm font-medium"},"Yes, auto-update my level",-1))]),a("label",q,[b(a("input",{type:"radio","onUpdate:modelValue":e[3]||(e[3]=o=>t(s).auto_update_proficiency=o),value:!1,class:"h-4 w-4 text-blue-600"},null,512),[[C,t(s).auto_update_proficiency]]),e[12]||(e[12]=a("span",{class:"text-sm font-medium"},"No, I'll set it manually",-1))])]),t(s).errors.auto_update_proficiency?(r(),p("p",M,f(t(s).errors.auto_update_proficiency),1)):x("",!0)]),t(s).auto_update_proficiency===!1?(r(),p("div",J,[d(t(V),null,{default:n(()=>[...e[15]||(e[15]=[c("Current Proficiency Level (CEFR) *",-1)])]),_:1}),a("div",G,[(r(),p(w,null,H(["A1","A2","B1","B2","C1","C2"],o=>a("label",{key:o,class:m(["flex items-center justify-center px-4 py-3 rounded-lg border-2 cursor-pointer transition-all",t(s).proficiency_level===o?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 bg-white"])},[b(a("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=N=>t(s).proficiency_level=N),value:o,class:"sr-only"},null,8,K),[[C,t(s).proficiency_level]]),a("span",Q,f(o),1)],2)),64))]),e[16]||(e[16]=a("p",{class:"text-xs text-gray-500 mt-2"}," A1 = Beginner, A2 = Elementary, B1 = Intermediate, B2 = Upper Intermediate, C1 = Advanced, C2 = Proficient ",-1)),t(s).errors.proficiency_level?(r(),p("p",X,f(t(s).errors.proficiency_level),1)):x("",!0)])):x("",!0),a("div",Z,[d($,{type:"submit",loading:t(s).processing,"loading-text":"Setting up your profile...",class:"w-full sm:w-auto"},{default:n(()=>[...e[17]||(e[17]=[c(" Complete Setup ",-1)])]),_:1},8,["loading"])]),e[18]||(e[18]=a("p",{class:"text-xs text-gray-500 text-center"}," You can update these settings anytime from your profile. ",-1))],32)):(r(),p("div",ee,[e[21]||(e[21]=a("div",{class:"space-y-3"},[a("p",{class:"text-sm text-gray-700"}," Would you like CefrSync to automatically update your proficiency level based on your performance and conversations? "),a("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[a("h4",{class:"font-medium text-blue-900 mb-2"},"How it works:"),a("ul",{class:"text-sm text-blue-800 space-y-1 list-disc list-inside"},[a("li",null,"We analyze your language usage patterns"),a("li",null,"Track vocabulary and grammar complexity"),a("li",null,"Automatically adjust your CEFR level (A1-C2)"),a("li",null,"You can always change this later in settings")])])],-1)),a("div",te,[d($,{onClick:e[5]||(e[5]=o=>k(!0)),loading:t(s).processing&&t(s).auto_update_proficiency,"loading-text":"Setting up...",class:"flex-1"},{default:n(()=>[...e[19]||(e[19]=[c(" Yes, auto-update my level ",-1)])]),_:1},8,["loading"]),d(t(W),{onClick:e[6]||(e[6]=o=>k(!1)),disabled:t(s).processing,variant:"outline",class:"flex-1"},{default:n(()=>[...e[20]||(e[20]=[c(" No, I'll set it manually later ",-1)])]),_:1},8,["disabled"])]),e[22]||(e[22]=a("p",{class:"text-xs text-gray-500 text-center"}," You can update your proficiency level and this setting anytime from your profile. ",-1))]))]),_:1})]),_:1})]),_:1},8,["title","subtitle"])],64))}});export{pe as default};
