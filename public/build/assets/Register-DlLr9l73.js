import{d as b,u as h,s as C,c as S,a as o,b as e,h as k,w as i,i as c,j as f,e as s,o as m,g as u,t as $,f as U,l as q,F as E,M as N}from"./app-wkKE4S1M.js";import{G as F,_}from"./GoogleSignInButton-db7PEVfB.js";import{_ as G,a as I}from"./index-BzfKxyDt.js";import{u as L}from"./useLanguageOptions-CiMEHTND.js";import{_ as P,a as R}from"./LoadingButton.vue_vue_type_script_setup_true_lang-BR094xAG.js";import{_ as d}from"./FormField.vue_vue_type_script_setup_true_lang-gXqRmuV4.js";import{_ as p}from"./LanguageSelect.vue_vue_type_script_setup_true_lang-B2OdNXZJ.js";import{_ as B}from"./PasswordStrengthIndicator.vue_vue_type_script_setup_true_lang-BI_6uZIc.js";import{u as A}from"./useRecaptcha-DkZRlIa_.js";import"./utils-CDN07tui.js";import"./useForwardExpose-BRVdyN8Q.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-C00C-iVj.js";import"./Spinner.vue_vue_type_script_setup_true_lang-C0ZeBohz.js";import"./Label.vue_vue_type_script_setup_true_lang-Bag-oW_Z.js";const j={class:"mb-6"},T={class:"relative my-6"},D={class:"absolute inset-0 flex items-center"},M={class:"grid grid-cols-2 gap-4"},O={class:"space-y-2"},H={class:"text-center text-sm text-gray-600"},ie=b({__name:"Register",setup(J){const{languages:g,proficiencyLevels:v}=L(),a=h({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",native_language:"",target_language:"",proficiency_level:"",recaptcha_token:""}),{executeRecaptcha:y}=A(),n=C(null),w=async()=>{try{const t=await y("register");a.recaptcha_token=t,a.post(route("register"),{onFinish:()=>a.reset("password","password_confirmation")})}catch(t){console.error("reCAPTCHA error:",t)}},V=t=>{n.value=null,N.post(route("auth.google.callback"),{credential:t.credential},{onError:r=>{n.value=r.credential||"Authentication failed. Please try again."}})},x=t=>{console.error("Google Sign-In error:",t),n.value="Google Sign-In failed. Please try again."};return(t,r)=>(m(),S(E,null,[o(e(k),{title:"Register"}),o(R,{title:"Create your account",subtitle:"Start your language learning journey today"},{default:i(()=>[n.value?(m(),c(e(G),{key:0,class:"mb-6 border-red-200 bg-red-50"},{default:i(()=>[o(e(I),{class:"text-sm text-red-800"},{default:i(()=>[u($(n.value),1)]),_:1})]),_:1})):f("",!0),s("div",j,[t.$page.props.auth?.googleClientId?(m(),c(F,{key:0,"client-id":t.$page.props.auth.googleClientId,onSignin:V,onError:x},null,8,["client-id"])):f("",!0)]),s("div",T,[s("div",D,[o(e(_))]),r[8]||(r[8]=s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"bg-white px-2 text-gray-500"},"OR")],-1))]),s("form",{onSubmit:U(w,["prevent"]),class:"space-y-5"},[s("div",M,[o(d,{id:"first_name",label:"First Name",modelValue:e(a).first_name,"onUpdate:modelValue":r[0]||(r[0]=l=>e(a).first_name=l),error:e(a).errors.first_name,placeholder:"John",required:"",autofocus:"",autocomplete:"given-name"},null,8,["modelValue","error"]),o(d,{id:"last_name",label:"Last Name",modelValue:e(a).last_name,"onUpdate:modelValue":r[1]||(r[1]=l=>e(a).last_name=l),error:e(a).errors.last_name,placeholder:"Doe",required:"",autocomplete:"family-name"},null,8,["modelValue","error"])]),o(d,{id:"email",label:"Email",type:"email",modelValue:e(a).email,"onUpdate:modelValue":r[2]||(r[2]=l=>e(a).email=l),error:e(a).errors.email,placeholder:"you@example.com",required:"",autocomplete:"username"},null,8,["modelValue","error"]),o(p,{id:"native_language",label:"Native Language",modelValue:e(a).native_language,"onUpdate:modelValue":r[3]||(r[3]=l=>e(a).native_language=l),error:e(a).errors.native_language,"exclude-value":e(a).target_language,options:e(g),placeholder:"Select your native language",required:""},null,8,["modelValue","error","exclude-value","options"]),o(p,{id:"target_language",label:"Target Language",modelValue:e(a).target_language,"onUpdate:modelValue":r[4]||(r[4]=l=>e(a).target_language=l),error:e(a).errors.target_language,"exclude-value":e(a).native_language,options:e(g),placeholder:"Select language to learn",required:""},null,8,["modelValue","error","exclude-value","options"]),o(p,{id:"proficiency_level",label:"Proficiency Level (CEFR)",modelValue:e(a).proficiency_level,"onUpdate:modelValue":r[5]||(r[5]=l=>e(a).proficiency_level=l),error:e(a).errors.proficiency_level,options:e(v)},null,8,["modelValue","error","options"]),s("div",O,[o(d,{id:"password",label:"Password",type:"password",modelValue:e(a).password,"onUpdate:modelValue":r[6]||(r[6]=l=>e(a).password=l),error:e(a).errors.password,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(B,{password:e(a).password},null,8,["password"])]),o(d,{id:"password_confirmation",label:"Confirm Password",type:"password",modelValue:e(a).password_confirmation,"onUpdate:modelValue":r[7]||(r[7]=l=>e(a).password_confirmation=l),error:e(a).errors.password_confirmation,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(P,{loading:e(a).processing,"loading-text":"Creating account..."},{default:i(()=>[...r[9]||(r[9]=[u(" Create account ",-1)])]),_:1},8,["loading"])],32),o(e(_),{class:"my-6"}),s("p",H,[r[11]||(r[11]=u(" Already have an account? ",-1)),o(e(q),{href:t.route("login"),class:"font-medium text-gray-900 hover:text-gray-700 hover:underline"},{default:i(()=>[...r[10]||(r[10]=[u(" Sign in ",-1)])]),_:1},8,["href"])])]),_:1})],64))}});export{ie as default};
