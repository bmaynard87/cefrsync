import{d as C,u as k,C as g,c as S,a as o,b as e,h as $,w as n,i as c,j as f,e as l,o as p,g as m,t as _,f as E,l as P,F as R,R as A}from"./app-CT9KjjO2.js";import{G,_ as y}from"./GoogleSignInButton-BXvk_f-b.js";import{_ as w,a as v}from"./index-cl0wXzdh.js";import{_ as I,a as N}from"./LoadingButton.vue_vue_type_script_setup_true_lang-DgT5jyFQ.js";import{_ as u}from"./FormField.vue_vue_type_script_setup_true_lang-BWJbM1rO.js";import{_ as U}from"./PasswordStrengthIndicator.vue_vue_type_script_setup_true_lang-DYkUPX-y.js";import{u as q}from"./useRecaptcha-CgBxyuS2.js";import"./utils-CDN07tui.js";import"./useForwardExpose-CHjD-jhw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-BG4-glst.js";import"./Spinner.vue_vue_type_script_setup_true_lang-CXeYkfay.js";import"./Label.vue_vue_type_script_setup_true_lang-DFBrcPOL.js";const B={class:"mb-6"},F={class:"relative my-6"},j={class:"absolute inset-0 flex items-center"},T={class:"grid grid-cols-2 gap-4"},D={class:"space-y-2"},H={class:"text-center text-sm text-gray-600"},oe=C({__name:"Register",setup(J){const r=k({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",recaptcha_token:""}),{executeRecaptcha:b}=q(),i=g(null),d=g(null),h=async()=>{d.value=null;try{const t=await b("register");r.recaptcha_token=t,r.post(route("register"),{onFinish:()=>r.reset("password","password_confirmation"),onError:()=>{d.value="Registration failed. Please try again."}})}catch(t){console.error("reCAPTCHA error:",t),d.value="Unable to verify reCAPTCHA. Please refresh the page and try again."}},V=t=>{i.value=null,A.post(route("auth.google.callback"),{credential:t.credential},{onError:a=>{i.value=a.credential||"Authentication failed. Please try again."}})},x=t=>{console.error("Google Sign-In error:",t),i.value="Google Sign-In failed. Please try again."};return(t,a)=>(p(),S(R,null,[o(e($),{title:"Register"}),o(N,{title:"Create your account",subtitle:"Start your language learning journey today"},{default:n(()=>[d.value?(p(),c(e(w),{key:0,class:"mb-6 border-red-200 bg-red-50"},{default:n(()=>[o(e(v),{class:"text-sm text-red-800"},{default:n(()=>[m(_(d.value),1)]),_:1})]),_:1})):f("",!0),i.value?(p(),c(e(w),{key:1,class:"mb-6 border-red-200 bg-red-50"},{default:n(()=>[o(e(v),{class:"text-sm text-red-800"},{default:n(()=>[m(_(i.value),1)]),_:1})]),_:1})):f("",!0),l("div",B,[t.$page.props.auth?.googleClientId?(p(),c(G,{key:0,"client-id":t.$page.props.auth.googleClientId,onSignin:V,onError:x},null,8,["client-id"])):f("",!0)]),l("div",F,[l("div",j,[o(e(y))]),a[5]||(a[5]=l("div",{class:"relative flex justify-center text-sm"},[l("span",{class:"bg-white px-2 text-gray-500"},"OR")],-1))]),l("form",{onSubmit:E(h,["prevent"]),class:"space-y-5"},[l("div",T,[o(u,{id:"first_name",label:"First Name",modelValue:e(r).first_name,"onUpdate:modelValue":a[0]||(a[0]=s=>e(r).first_name=s),error:e(r).errors.first_name,placeholder:"John",required:"",autofocus:"",autocomplete:"given-name"},null,8,["modelValue","error"]),o(u,{id:"last_name",label:"Last Name",modelValue:e(r).last_name,"onUpdate:modelValue":a[1]||(a[1]=s=>e(r).last_name=s),error:e(r).errors.last_name,placeholder:"Doe",required:"",autocomplete:"family-name"},null,8,["modelValue","error"])]),o(u,{id:"email",label:"Email",type:"email",modelValue:e(r).email,"onUpdate:modelValue":a[2]||(a[2]=s=>e(r).email=s),error:e(r).errors.email,placeholder:"you@example.com",required:"",autocomplete:"username"},null,8,["modelValue","error"]),l("div",D,[o(u,{id:"password",label:"Password",type:"password",modelValue:e(r).password,"onUpdate:modelValue":a[3]||(a[3]=s=>e(r).password=s),error:e(r).errors.password,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(U,{password:e(r).password},null,8,["password"])]),o(u,{id:"password_confirmation",label:"Confirm Password",type:"password",modelValue:e(r).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=s=>e(r).password_confirmation=s),error:e(r).errors.password_confirmation,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(I,{loading:e(r).processing,"loading-text":"Creating account..."},{default:n(()=>[...a[6]||(a[6]=[m(" Create account ",-1)])]),_:1},8,["loading"])],32),o(e(y),{class:"my-6"}),l("p",H,[a[8]||(a[8]=m(" Already have an account? ",-1)),o(e(P),{href:t.route("login"),class:"font-medium text-gray-900 hover:text-gray-700 hover:underline"},{default:n(()=>[...a[7]||(a[7]=[m(" Sign in ",-1)])]),_:1},8,["href"])])]),_:1})],64))}});export{oe as default};
