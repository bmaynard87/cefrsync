import{d as S,S as E,k as P,u as $,C as v,c as R,a as o,b as e,h as A,w as l,i as c,j as f,e as n,o as u,g as i,t as g,f as G,l as I,F as N,R as U}from"./app-GV6RuEx1.js";import{G as q,_ as b}from"./GoogleSignInButton-CzJOzWVE.js";import{_,a as y}from"./index-B5mmLkIn.js";import{_ as B,a as F}from"./LoadingButton.vue_vue_type_script_setup_true_lang-BUZMnjPh.js";import{_ as p}from"./FormField.vue_vue_type_script_setup_true_lang-CtGOPv-_.js";import{_ as j}from"./PasswordStrengthIndicator.vue_vue_type_script_setup_true_lang-D3ziIW_7.js";import{u as T}from"./useRecaptcha-DB-cLZSR.js";import"./utils-CDN07tui.js";import"./useForwardExpose-SzdfKoko.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppLogo.vue_vue_type_script_setup_true_lang-CtsqR0XQ.js";import"./Spinner.vue_vue_type_script_setup_true_lang-Csy5Xurs.js";import"./Label.vue_vue_type_script_setup_true_lang-B9nxImRf.js";const D={class:"mb-6"},H={class:"relative my-6"},J={class:"absolute inset-0 flex items-center"},L={class:"grid grid-cols-2 gap-4"},M={class:"space-y-2"},O={class:"text-center text-sm text-gray-600"},ne=S({__name:"Register",setup(z){const h=E(),w=P(()=>h.props.flash?.error),r=$({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",recaptcha_token:""}),{executeRecaptcha:x}=T(),d=v(null),m=v(null),V=async()=>{m.value=null;try{const t=await x("register");r.recaptcha_token=t,r.post(route("register"),{onFinish:()=>r.reset("password","password_confirmation"),onError:()=>{m.value="Registration failed. Please try again."}})}catch(t){console.error("reCAPTCHA error:",t),m.value="Unable to verify reCAPTCHA. Please refresh the page and try again."}},C=t=>{d.value=null,U.post(route("auth.google.callback"),{credential:t.credential},{onError:a=>{d.value=a.credential||"Authentication failed. Please try again."}})},k=t=>{console.error("Google Sign-In error:",t),d.value="Google Sign-In failed. Please try again."};return(t,a)=>(u(),R(N,null,[o(e(A),{title:"Register"}),o(F,{title:"Create your account",subtitle:"Start your language learning journey today"},{default:l(()=>[w.value?(u(),c(e(_),{key:0,class:"mb-6 border-red-200 bg-red-50"},{default:l(()=>[o(e(y),{class:"text-sm text-red-800"},{default:l(()=>[i(g(w.value),1)]),_:1})]),_:1})):f("",!0),m.value?(u(),c(e(_),{key:1,class:"mb-6 border-red-200 bg-red-50"},{default:l(()=>[o(e(y),{class:"text-sm text-red-800"},{default:l(()=>[i(g(m.value),1)]),_:1})]),_:1})):f("",!0),d.value?(u(),c(e(_),{key:2,class:"mb-6 border-red-200 bg-red-50"},{default:l(()=>[o(e(y),{class:"text-sm text-red-800"},{default:l(()=>[i(g(d.value),1)]),_:1})]),_:1})):f("",!0),n("div",D,[t.$page.props.auth?.googleClientId?(u(),c(q,{key:0,"client-id":t.$page.props.auth.googleClientId,onSignin:C,onError:k},null,8,["client-id"])):f("",!0)]),n("div",H,[n("div",J,[o(e(b))]),a[5]||(a[5]=n("div",{class:"relative flex justify-center text-sm"},[n("span",{class:"bg-white px-2 text-gray-500"},"OR")],-1))]),n("form",{onSubmit:G(V,["prevent"]),class:"space-y-5"},[n("div",L,[o(p,{id:"first_name",label:"First Name",modelValue:e(r).first_name,"onUpdate:modelValue":a[0]||(a[0]=s=>e(r).first_name=s),error:e(r).errors.first_name,placeholder:"John",required:"",autofocus:"",autocomplete:"given-name"},null,8,["modelValue","error"]),o(p,{id:"last_name",label:"Last Name",modelValue:e(r).last_name,"onUpdate:modelValue":a[1]||(a[1]=s=>e(r).last_name=s),error:e(r).errors.last_name,placeholder:"Doe",required:"",autocomplete:"family-name"},null,8,["modelValue","error"])]),o(p,{id:"email",label:"Email",type:"email",modelValue:e(r).email,"onUpdate:modelValue":a[2]||(a[2]=s=>e(r).email=s),error:e(r).errors.email,placeholder:"you@example.com",required:"",autocomplete:"username"},null,8,["modelValue","error"]),n("div",M,[o(p,{id:"password",label:"Password",type:"password",modelValue:e(r).password,"onUpdate:modelValue":a[3]||(a[3]=s=>e(r).password=s),error:e(r).errors.password,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(j,{password:e(r).password},null,8,["password"])]),o(p,{id:"password_confirmation",label:"Confirm Password",type:"password",modelValue:e(r).password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=s=>e(r).password_confirmation=s),error:e(r).errors.password_confirmation,placeholder:"••••••••",required:"",autocomplete:"new-password"},null,8,["modelValue","error"]),o(B,{loading:e(r).processing,"loading-text":"Creating account..."},{default:l(()=>[...a[6]||(a[6]=[i(" Create account ",-1)])]),_:1},8,["loading"])],32),o(e(b),{class:"my-6"}),n("p",O,[a[8]||(a[8]=i(" Already have an account? ",-1)),o(e(I),{href:t.route("login"),class:"font-medium text-gray-900 hover:text-gray-700 hover:underline"},{default:l(()=>[...a[7]||(a[7]=[i(" Sign in ",-1)])]),_:1},8,["href"])])]),_:1})],64))}});export{ne as default};
